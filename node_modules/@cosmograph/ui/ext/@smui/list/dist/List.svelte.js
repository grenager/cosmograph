import{SvelteComponent as e,init as t,safe_not_equal as n,construct_svelte_component as i,create_component as s,empty as o,mount_component as a,insert as d,get_spread_update as l,get_spread_object as c,group_outros as r,transition_out as u,destroy_component as m,check_outros as p,transition_in as I,detach as g,compute_rest_props as h,get_current_component as $,getContext as x,setContext as v,onMount as f,onDestroy as L,assign as y,exclude_internal_props as b,binding_callbacks as S,create_slot as F,update_slot_base as k,get_all_dirty_from_scope as A,get_slot_changes as E}from"../../../svelte/internal/index.mjs.js";import*as M from"../../../@material/dom/ponyfill.js";import{classMap as w}from"../../common/dist/internal/classMap.js";import{dispatch as C}from"../../common/dist/internal/dispatch.js";import{forwardEventsBuilder as U}from"../../common/dist/internal/forwardEventsBuilder.js";import T from"../../common/dist/SmuiElement.svelte.js";import{MDCListFoundation as P}from"../../../@material/list/foundation.js";function j(e){let t;const n=e[42].default,i=F(n,e,e[44],null);return{c(){i&&i.c()},m(e,n){i&&i.m(e,n),t=!0},p(e,s){i&&i.p&&(!t||8192&s[1])&&k(i,n,e,e[44],t?E(n,e[44],s,null):A(e[44]),null)},i(e){t||(I(i,e),t=!0)},o(e){u(i,e),t=!1},d(e){i&&i.d(e)}}}function O(e){let t,n,h;const $=[{tag:e[13]},{use:[e[16],...e[0]]},{class:w({[e[1]]:!0,"mdc-deprecated-list":!0,"mdc-deprecated-list--non-interactive":e[2],"mdc-deprecated-list--dense":e[3],"mdc-deprecated-list--textual-list":e[4],"mdc-deprecated-list--avatar-list":e[5]||e[17],"mdc-deprecated-list--icon-list":e[6],"mdc-deprecated-list--image-list":e[7],"mdc-deprecated-list--thumbnail-list":e[8],"mdc-deprecated-list--video-list":e[9],"mdc-deprecated-list--two-line":e[10],"smui-list--three-line":e[11]&&!e[10]})},{role:e[15]},e[25]];var x=e[12];function v(e){let t={$$slots:{default:[j]},$$scope:{ctx:e}};for(let e=0;e<$.length;e+=1)t=y(t,$[e]);return{props:t}}return x&&(t=i(x,v(e)),e[43](t),t.$on("keydown",e[20]),t.$on("focusin",e[21]),t.$on("focusout",e[22]),t.$on("click",e[23]),t.$on("SMUIListItem:mount",e[18]),t.$on("SMUIListItem:unmount",e[19]),t.$on("SMUI:action",e[24])),{c(){t&&s(t.$$.fragment),n=o()},m(e,i){t&&a(t,e,i),d(e,n,i),h=!0},p(e,o){const d=33796095&o[0]?l($,[8192&o[0]&&{tag:e[13]},65537&o[0]&&{use:[e[16],...e[0]]},135166&o[0]&&{class:w({[e[1]]:!0,"mdc-deprecated-list":!0,"mdc-deprecated-list--non-interactive":e[2],"mdc-deprecated-list--dense":e[3],"mdc-deprecated-list--textual-list":e[4],"mdc-deprecated-list--avatar-list":e[5]||e[17],"mdc-deprecated-list--icon-list":e[6],"mdc-deprecated-list--image-list":e[7],"mdc-deprecated-list--thumbnail-list":e[8],"mdc-deprecated-list--video-list":e[9],"mdc-deprecated-list--two-line":e[10],"smui-list--three-line":e[11]&&!e[10]})},32768&o[0]&&{role:e[15]},33554432&o[0]&&c(e[25])]):{};if(8192&o[1]&&(d.$$scope={dirty:o,ctx:e}),4096&o[0]&&x!==(x=e[12])){if(t){r();const e=t;u(e.$$.fragment,1,0,(()=>{m(e,1)})),p()}x?(t=i(x,v(e)),e[43](t),t.$on("keydown",e[20]),t.$on("focusin",e[21]),t.$on("focusout",e[22]),t.$on("click",e[23]),t.$on("SMUIListItem:mount",e[18]),t.$on("SMUIListItem:unmount",e[19]),t.$on("SMUI:action",e[24]),s(t.$$.fragment),I(t.$$.fragment,1),a(t,n.parentNode,n)):t=null}else x&&t.$set(d)},i(e){h||(t&&I(t.$$.fragment,e),h=!0)},o(e){t&&u(t.$$.fragment,e),h=!1},d(i){e[43](null),i&&g(n),t&&m(t,i)}}}function R(e,t,n){const i=["use","class","nonInteractive","dense","textualList","avatarList","iconList","imageList","thumbnailList","videoList","twoLine","threeLine","vertical","wrapFocus","singleSelection","disabledItemsFocusable","selectedIndex","radioList","checkList","hasTypeahead","component","tag","layout","setEnabled","getTypeaheadInProgress","getSelectedIndex","getFocusedItemIndex","focusItemAtIndex","getElement"];let s=h(t,i),{$$slots:o={},$$scope:a}=t;var d;const{closest:l,matches:c}=M,r=U($());let u,m,{use:p=[]}=t,{class:I=""}=t,{nonInteractive:g=!1}=t,{dense:F=!1}=t,{textualList:k=!1}=t,{avatarList:A=!1}=t,{iconList:E=!1}=t,{imageList:w=!1}=t,{thumbnailList:j=!1}=t,{videoList:O=!1}=t,{twoLine:R=!1}=t,{threeLine:_=!1}=t,{vertical:q=!0}=t,{wrapFocus:H=null!==(d=x("SMUI:list:wrapFocus"))&&void 0!==d&&d}=t,{singleSelection:W=!1}=t,{disabledItemsFocusable:B=!1}=t,{selectedIndex:D=-1}=t,{radioList:K=!1}=t,{checkList:N=!1}=t,{hasTypeahead:V=!1}=t,z=[],G=x("SMUI:list:role"),J=x("SMUI:list:nav");const Q=new WeakMap;let X,Y=x("SMUI:dialog:selection"),Z=x("SMUI:addLayoutListener"),{component:ee=T}=t,{tag:te=(ee===T?J?"nav":"ul":void 0)}=t;function ne(){return null==u?[]:[...Ie().children].map((e=>Q.get(e))).filter((e=>e&&e._smui_list_item_accessor))}function ie(e,t){var n;const i=ne()[e];return null!==(n=i&&i.hasClass(t))&&void 0!==n&&n}function se(e,t){const n=ne()[e];n&&n.addClass(t)}function oe(e,t){const n=ne()[e];n&&n.removeClass(t)}function ae(e,t,n){const i=ne()[e];i&&i.addAttr(t,n)}function de(e,t){const n=ne()[e];n&&n.removeAttr(t)}function le(e,t){const n=ne()[e];return n?n.getAttr(t):null}function ce(e){var t;const n=ne()[e];return null!==(t=n&&n.getPrimaryText())&&void 0!==t?t:""}function re(e){const t=l(e,".mdc-deprecated-list-item, .mdc-deprecated-list");return t&&c(t,".mdc-deprecated-list-item")?ne().map((e=>null==e?void 0:e.element)).indexOf(t):-1}function ue(){return m.layout()}function me(){return m.getSelectedIndex()}function pe(e){const t=ne()[e];t&&"focus"in t.element&&t.element.focus()}function Ie(){return u.getElement()}return v("SMUI:list:nonInteractive",g),v("SMUI:separator:context","list"),G||(W?(G="listbox",v("SMUI:list:item:role","option")):K?(G="radiogroup",v("SMUI:list:item:role","radio")):N?(G="group",v("SMUI:list:item:role","checkbox")):(G="list",v("SMUI:list:item:role",void 0))),Z&&(X=Z(ue)),f((()=>{n(41,m=new P({addClassForElementIndex:se,focusItemAtIndex:pe,getAttributeForElementIndex:(e,t)=>{var n,i;return null!==(i=null===(n=ne()[e])||void 0===n?void 0:n.getAttr(t))&&void 0!==i?i:null},getFocusedElementIndex:()=>document.activeElement?ne().map((e=>e.element)).indexOf(document.activeElement):-1,getListItemCount:()=>z.length,getPrimaryTextAtIndex:ce,hasCheckboxAtIndex:e=>{var t,n;return null!==(n=null===(t=ne()[e])||void 0===t?void 0:t.hasCheckbox)&&void 0!==n&&n},hasRadioAtIndex:e=>{var t,n;return null!==(n=null===(t=ne()[e])||void 0===t?void 0:t.hasRadio)&&void 0!==n&&n},isCheckboxCheckedAtIndex:e=>{var t;const n=ne()[e];return null!==(t=(null==n?void 0:n.hasCheckbox)&&n.checked)&&void 0!==t&&t},isFocusInsideList:()=>null!=u&&Ie()!==document.activeElement&&Ie().contains(document.activeElement),isRootFocused:()=>null!=u&&document.activeElement===Ie(),listItemAtIndexHasClass:ie,notifyAction:e=>{n(26,D=e),null!=u&&C(Ie(),"SMUIList:action",{index:e},void 0,!0)},notifySelectionChange:e=>{null!=u&&C(Ie(),"SMUIList:selectionChange",{changedIndices:e})},removeClassForElementIndex:oe,setAttributeForElementIndex:ae,setCheckedCheckboxOrRadioAtIndex:(e,t)=>{ne()[e].checked=t},setTabIndexForListItemChildren:(e,t)=>{const n=ne()[e];Array.prototype.forEach.call(n.element.querySelectorAll("button:not(:disabled), a"),(e=>{e.setAttribute("tabindex",t)}))}}));const e={get element(){return Ie()},get items(){return z},get typeaheadInProgress(){return m.isTypeaheadInProgress()},typeaheadMatchItem:(e,t)=>m.typeaheadMatchItem(e,t,!0),getOrderedList:ne,focusItemAtIndex:pe,addClassForElementIndex:se,removeClassForElementIndex:oe,setAttributeForElementIndex:ae,removeAttributeForElementIndex:de,getAttributeFromElementIndex:le,getPrimaryTextAtIndex:ce};return C(Ie(),"SMUIList:mount",e),m.init(),m.layout(),()=>{m.destroy()}})),L((()=>{X&&X()})),e.$$set=e=>{t=y(y({},t),b(e)),n(25,s=h(t,i)),"use"in e&&n(0,p=e.use),"class"in e&&n(1,I=e.class),"nonInteractive"in e&&n(2,g=e.nonInteractive),"dense"in e&&n(3,F=e.dense),"textualList"in e&&n(4,k=e.textualList),"avatarList"in e&&n(5,A=e.avatarList),"iconList"in e&&n(6,E=e.iconList),"imageList"in e&&n(7,w=e.imageList),"thumbnailList"in e&&n(8,j=e.thumbnailList),"videoList"in e&&n(9,O=e.videoList),"twoLine"in e&&n(10,R=e.twoLine),"threeLine"in e&&n(11,_=e.threeLine),"vertical"in e&&n(27,q=e.vertical),"wrapFocus"in e&&n(28,H=e.wrapFocus),"singleSelection"in e&&n(29,W=e.singleSelection),"disabledItemsFocusable"in e&&n(30,B=e.disabledItemsFocusable),"selectedIndex"in e&&n(26,D=e.selectedIndex),"radioList"in e&&n(31,K=e.radioList),"checkList"in e&&n(32,N=e.checkList),"hasTypeahead"in e&&n(33,V=e.hasTypeahead),"component"in e&&n(12,ee=e.component),"tag"in e&&n(13,te=e.tag),"$$scope"in e&&n(44,a=e.$$scope)},e.$$.update=()=>{134217728&e.$$.dirty[0]|1024&e.$$.dirty[1]&&m&&m.setVerticalOrientation(q),268435456&e.$$.dirty[0]|1024&e.$$.dirty[1]&&m&&m.setWrapFocus(H),1028&e.$$.dirty[1]&&m&&m.setHasTypeahead(V),536870912&e.$$.dirty[0]|1024&e.$$.dirty[1]&&m&&m.setSingleSelection(W),1073741824&e.$$.dirty[0]|1024&e.$$.dirty[1]&&m&&m.setDisabledItemsFocusable(B),603979776&e.$$.dirty[0]|1024&e.$$.dirty[1]&&m&&W&&me()!==D&&m.setSelectedIndex(D)},[p,I,g,F,k,A,E,w,j,O,R,_,ee,te,u,G,r,Y,function(e){z.push(e.detail),Q.set(e.detail.element,e.detail),W&&e.detail.selected&&n(26,D=re(e.detail.element)),e.stopPropagation()},function(e){var t;const n=null!==(t=e.detail&&z.indexOf(e.detail))&&void 0!==t?t:-1;-1!==n&&(z.splice(n,1),Q.delete(e.detail.element)),e.stopPropagation()},function(e){m&&e.target&&m.handleKeydown(e,e.target.classList.contains("mdc-deprecated-list-item"),re(e.target))},function(e){m&&e.target&&m.handleFocusIn(re(e.target))},function(e){m&&e.target&&m.handleFocusOut(re(e.target))},function(e){m&&e.target&&m.handleClick(re(e.target),!c(e.target,'input[type="checkbox"], input[type="radio"]'),e)},function(e){if(K||N){const t=re(e.target);if(-1!==t){const n=ne()[t];n&&(K&&!n.checked||N)&&(c(e.detail.target,'input[type="checkbox"], input[type="radio"]')||(n.checked=!n.checked),n.activateRipple(),window.requestAnimationFrame((()=>{n.deactivateRipple()})))}}},s,D,q,H,W,B,K,N,V,ue,function(e,t){return m.setEnabled(e,t)},function(){return m.isTypeaheadInProgress()},me,function(){return m.getFocusedItemIndex()},pe,Ie,m,o,function(e){S[e?"unshift":"push"]((()=>{u=e,n(14,u)}))},a]}class _ extends e{constructor(e){super(),t(this,e,R,O,n,{use:0,class:1,nonInteractive:2,dense:3,textualList:4,avatarList:5,iconList:6,imageList:7,thumbnailList:8,videoList:9,twoLine:10,threeLine:11,vertical:27,wrapFocus:28,singleSelection:29,disabledItemsFocusable:30,selectedIndex:26,radioList:31,checkList:32,hasTypeahead:33,component:12,tag:13,layout:34,setEnabled:35,getTypeaheadInProgress:36,getSelectedIndex:37,getFocusedItemIndex:38,focusItemAtIndex:39,getElement:40},null,[-1,-1])}get layout(){return this.$$.ctx[34]}get setEnabled(){return this.$$.ctx[35]}get getTypeaheadInProgress(){return this.$$.ctx[36]}get getSelectedIndex(){return this.$$.ctx[37]}get getFocusedItemIndex(){return this.$$.ctx[38]}get focusItemAtIndex(){return this.$$.ctx[39]}get getElement(){return this.$$.ctx[40]}}export{_ as default};
//# sourceMappingURL=List.svelte.js.map
