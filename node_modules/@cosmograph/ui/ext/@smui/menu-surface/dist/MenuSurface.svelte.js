import{SvelteComponent as e,init as n,safe_not_equal as t,create_slot as i,assign as o,space as s,element as r,set_attributes as c,insert as a,listen as l,action_destroyer as u,update_slot_base as d,get_all_dirty_from_scope as m,get_slot_changes as h,get_spread_update as f,is_function as p,transition_in as g,transition_out as $,detach as y,run_all as v,compute_rest_props as x,get_current_component as O,setContext as w,onMount as C,onDestroy as M,exclude_internal_props as E,globals as B,binding_callbacks as H}from"../../../svelte/internal/index.mjs.js";import{classMap as b}from"../../common/dist/internal/classMap.js";import{dispatch as I}from"../../common/dist/internal/dispatch.js";import{forwardEventsBuilder as S}from"../../common/dist/internal/forwardEventsBuilder.js";import{useActions as F}from"../../common/dist/internal/useActions.js";import{MDCMenuSurfaceFoundation as j}from"../../../@material/menu-surface/foundation.js";import{Corner as A}from"../../../@material/menu-surface/constants.js";const{document:W}=B;function k(e){let n,t,x,O,w,C,M,E;const B=e[34].default,H=i(B,e,e[33],null);let I=[{class:x=b({[e[1]]:!0,"mdc-menu-surface":!0,"mdc-menu-surface--fixed":e[4],"mdc-menu-surface--open":e[3],"smui-menu-surface--static":e[3],"mdc-menu-surface--fullwidth":e[5],...e[8]})},{style:O=Object.entries(e[9]).map(P).concat([e[2]]).join(" ")},e[12]],S={};for(let e=0;e<I.length;e+=1)S=o(S,I[e]);return{c(){n=s(),t=r("div"),H&&H.c(),c(t,S)},m(i,o){a(i,n,o),a(i,t,o),H&&H.m(t,null),e[35](t),C=!0,M||(E=[l(W.body,"click",e[11],!0),u(w=F.call(null,t,e[0])),u(e[10].call(null,t)),l(t,"keydown",(function(){p(e[7]&&e[7].handleKeydown.bind(e[7]))&&(e[7]&&e[7].handleKeydown.bind(e[7])).apply(this,arguments)}))],M=!0)},p(n,i){e=n,H&&H.p&&(!C||4&i[1])&&d(H,B,e,e[33],C?h(B,e[33],i,null):m(e[33]),null),c(t,S=f(I,[(!C||314&i[0]&&x!==(x=b({[e[1]]:!0,"mdc-menu-surface":!0,"mdc-menu-surface--fixed":e[4],"mdc-menu-surface--open":e[3],"smui-menu-surface--static":e[3],"mdc-menu-surface--fullwidth":e[5],...e[8]})))&&{class:x},(!C||516&i[0]&&O!==(O=Object.entries(e[9]).map(P).concat([e[2]]).join(" ")))&&{style:O},4096&i[0]&&e[12]])),w&&p(w.update)&&1&i[0]&&w.update.call(null,e[0])},i(e){C||(g(H,e),C=!0)},o(e){$(H,e),C=!1},d(i){i&&y(n),i&&y(t),H&&H.d(i),e[35](null),M=!1,v(E)}}}const P=([e,n])=>`${e}: ${n};`;function R(e,n,t){const i=["use","class","style","static","anchor","fixed","open","managed","fullWidth","quickOpen","anchorElement","anchorCorner","anchorMargin","maxHeight","horizontallyCenteredOnViewport","openBottomBias","neverRestoreFocus","isOpen","setOpen","setAbsolutePosition","setIsHoisted","isFixed","getElement"];let s=x(n,i),{$$slots:r={},$$scope:c}=n;var a,l,u;const d=S(O());let m,h,f,{use:p=[]}=n,{class:g=""}=n,{style:$=""}=n,{static:y=!1}=n,{anchor:v=!0}=n,{fixed:B=!1}=n,{open:b=y}=n,{managed:F=!1}=n,{fullWidth:W=!1}=n,{quickOpen:k=!1}=n,{anchorElement:P}=n,{anchorCorner:R}=n,{anchorMargin:U={top:0,right:0,bottom:0,left:0}}=n,{maxHeight:V=0}=n,{horizontallyCenteredOnViewport:z=!1}=n,{openBottomBias:q=0}=n,{neverRestoreFocus:D=!1}=n,L={},K={};w("SMUI:list:role","menu"),w("SMUI:list:item:role","menuitem");const N=A;function Q(e){return e in L?L[e]:G().classList.contains(e)}function T(e){L[e]||t(8,L[e]=!0,L)}function X(e){e in L&&!L[e]||t(8,L[e]=!1,L)}function Y(e){h.close(e),t(13,b=!1)}function G(){return m}return C((()=>{t(7,h=new j({addClass:T,removeClass:X,hasClass:Q,hasAnchor:()=>!!P,notifyClose:()=>{F||t(13,b=y),b||I(m,"SMUIMenuSurface:closed",void 0,void 0,!0)},notifyClosing:()=>{F||t(13,b=y),b||I(m,"SMUIMenuSurface:closing",void 0,void 0,!0)},notifyOpen:()=>{F||t(13,b=!0),b&&I(m,"SMUIMenuSurface:opened",void 0,void 0,!0)},notifyOpening:()=>{b||I(m,"SMUIMenuSurface:opening",void 0,void 0,!0)},isElementInContainer:e=>m.contains(e),isRtl:()=>"rtl"===getComputedStyle(m).getPropertyValue("direction"),setTransformOrigin:e=>{t(9,K["transform-origin"]=e,K)},isFocused:()=>document.activeElement===m,saveFocus:()=>{var e;f=null!==(e=document.activeElement)&&void 0!==e?e:void 0},restoreFocus:()=>{!D&&(!m||m.contains(document.activeElement))&&f&&document.contains(f)&&"focus"in f&&f.focus()},getInnerDimensions:()=>({width:m.offsetWidth,height:m.offsetHeight}),getAnchorDimensions:()=>P?P.getBoundingClientRect():null,getWindowDimensions:()=>({width:window.innerWidth,height:window.innerHeight}),getBodyDimensions:()=>({width:document.body.clientWidth,height:document.body.clientHeight}),getWindowScroll:()=>({x:window.pageXOffset,y:window.pageYOffset}),setPosition:e=>{t(9,K.left="left"in e?`${e.left}px`:"",K),t(9,K.right="right"in e?`${e.right}px`:"",K),t(9,K.top="top"in e?`${e.top}px`:"",K),t(9,K.bottom="bottom"in e?`${e.bottom}px`:"",K)},setMaxHeight:e=>{t(9,K["max-height"]=e,K)}}));return I(m,"SMUIMenuSurface:mount",{get open(){return b},set open(e){t(13,b=e)},closeProgrammatic:Y}),h.init(),()=>{var e;const n=h.isHoistedElement;h.destroy(),n&&(null===(e=m.parentNode)||void 0===e||e.removeChild(m))}})),M((()=>{var e;v&&m&&(null===(e=m.parentElement)||void 0===e||e.classList.remove("mdc-menu-surface--anchor"))})),e.$$set=e=>{n=o(o({},n),E(e)),t(12,s=x(n,i)),"use"in e&&t(0,p=e.use),"class"in e&&t(1,g=e.class),"style"in e&&t(2,$=e.style),"static"in e&&t(3,y=e.static),"anchor"in e&&t(15,v=e.anchor),"fixed"in e&&t(4,B=e.fixed),"open"in e&&t(13,b=e.open),"managed"in e&&t(16,F=e.managed),"fullWidth"in e&&t(5,W=e.fullWidth),"quickOpen"in e&&t(17,k=e.quickOpen),"anchorElement"in e&&t(14,P=e.anchorElement),"anchorCorner"in e&&t(18,R=e.anchorCorner),"anchorMargin"in e&&t(19,U=e.anchorMargin),"maxHeight"in e&&t(20,V=e.maxHeight),"horizontallyCenteredOnViewport"in e&&t(21,z=e.horizontallyCenteredOnViewport),"openBottomBias"in e&&t(22,q=e.openBottomBias),"neverRestoreFocus"in e&&t(23,D=e.neverRestoreFocus),"$$scope"in e&&t(33,c=e.$$scope)},e.$$.update=()=>{1073774656&e.$$.dirty[0]|3&e.$$.dirty[1]&&m&&v&&!(null===t(30,a=m.parentElement)||void 0===a?void 0:a.classList.contains("mdc-menu-surface--anchor"))&&(null===t(31,l=m.parentElement)||void 0===l||l.classList.add("mdc-menu-surface--anchor"),t(14,P=null!==t(32,u=m.parentElement)&&void 0!==u?u:void 0)),8320&e.$$.dirty[0]&&h&&h.isOpen()!==b&&(b?h.open():h.close()),131200&e.$$.dirty[0]&&h&&h.setQuickOpen(k),144&e.$$.dirty[0]&&h&&h.setFixedPosition(B),1048704&e.$$.dirty[0]&&h&&h.setMaxHeight(V),2097280&e.$$.dirty[0]&&h&&h.setIsHorizontallyCenteredOnViewport(z),262272&e.$$.dirty[0]&&h&&null!=R&&("string"==typeof R?h.setAnchorCorner(N[R]):h.setAnchorCorner(R)),524416&e.$$.dirty[0]&&h&&h.setAnchorMargin(U),4194432&e.$$.dirty[0]&&h&&h.setOpenBottomBias(q)},[p,g,$,y,B,W,m,h,L,K,d,function(e){h&&b&&!F&&h.handleBodyClick(e)},s,b,P,v,F,k,R,U,V,z,q,D,function(){return b},function(e){t(13,b=e)},function(e,n){return h.setAbsolutePosition(e,n)},function(e){return h.setIsHoisted(e)},function(){return h.isFixed()},G,a,l,u,c,r,function(e){H[e?"unshift":"push"]((()=>{m=e,t(6,m)}))}]}class U extends e{constructor(e){super(),n(this,e,R,k,t,{use:0,class:1,style:2,static:3,anchor:15,fixed:4,open:13,managed:16,fullWidth:5,quickOpen:17,anchorElement:14,anchorCorner:18,anchorMargin:19,maxHeight:20,horizontallyCenteredOnViewport:21,openBottomBias:22,neverRestoreFocus:23,isOpen:24,setOpen:25,setAbsolutePosition:26,setIsHoisted:27,isFixed:28,getElement:29},null,[-1,-1])}get isOpen(){return this.$$.ctx[24]}get setOpen(){return this.$$.ctx[25]}get setAbsolutePosition(){return this.$$.ctx[26]}get setIsHoisted(){return this.$$.ctx[27]}get isFixed(){return this.$$.ctx[28]}get getElement(){return this.$$.ctx[29]}}export{U as default};
//# sourceMappingURL=MenuSurface.svelte.js.map
