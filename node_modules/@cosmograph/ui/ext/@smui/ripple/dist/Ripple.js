import*as e from"../../../@material/dom/events.js";import*as r from"../../../@material/dom/ponyfill.js";import{getContext as i}from"../../../svelte/internal/index.mjs.js";import{MDCRippleFoundation as s}from"../../../@material/ripple/foundation.js";import{supportsCssVariables as t}from"../../../@material/ripple/util.js";const{applyPassive:a}=e,{matches:n}=r;function d(e,{ripple:r=!0,surface:d=!1,unbounded:o=!1,disabled:l=!1,color:p,active:c,rippleElement:m,eventTarget:u,activeTarget:v,addClass:f=(r=>e.classList.add(r)),removeClass:y=(r=>e.classList.remove(r)),addStyle:g=((r,i)=>e.style.setProperty(r,i)),initPromise:b=Promise.resolve()}={}){let w,E,L=i("SMUI:addLayoutListener"),C=c,P=u,j=v;function S(){d?(f("mdc-ripple-surface"),"primary"===p?(f("smui-ripple-surface--primary"),y("smui-ripple-surface--secondary")):"secondary"===p?(y("smui-ripple-surface--primary"),f("smui-ripple-surface--secondary")):(y("smui-ripple-surface--primary"),y("smui-ripple-surface--secondary"))):(y("mdc-ripple-surface"),y("smui-ripple-surface--primary"),y("smui-ripple-surface--secondary")),w&&C!==c&&(C=c,c?w.activate():!1===c&&w.deactivate()),r&&!w?(w=new s({addClass:f,browserSupportsCssVars:()=>t(window),computeBoundingRect:()=>(m||e).getBoundingClientRect(),containsEventTarget:r=>e.contains(r),deregisterDocumentInteractionHandler:(e,r)=>document.documentElement.removeEventListener(e,r,a()),deregisterInteractionHandler:(r,i)=>(u||e).removeEventListener(r,i,a()),deregisterResizeHandler:e=>window.removeEventListener("resize",e),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset}),isSurfaceActive:()=>null==c?n(v||e,":active"):c,isSurfaceDisabled:()=>!!l,isUnbounded:()=>!!o,registerDocumentInteractionHandler:(e,r)=>document.documentElement.addEventListener(e,r,a()),registerInteractionHandler:(r,i)=>(u||e).addEventListener(r,i,a()),registerResizeHandler:e=>window.addEventListener("resize",e),removeClass:y,updateCssVariable:g}),b.then((()=>{w&&(w.init(),w.setUnbounded(o))}))):w&&!r&&b.then((()=>{w&&(w.destroy(),w=void 0)})),!w||P===u&&j===v||(P=u,j=v,w.destroy(),requestAnimationFrame((()=>{w&&(w.init(),w.setUnbounded(o))}))),!r&&o&&f("mdc-ripple-upgraded--unbounded")}return S(),L&&(E=L((function(){w&&w.layout()}))),{update(i){({ripple:r,surface:d,unbounded:o,disabled:l,color:p,active:c,rippleElement:m,eventTarget:u,activeTarget:v,addClass:f,removeClass:y,addStyle:g,initPromise:b}=Object.assign({ripple:!0,surface:!1,unbounded:!1,disabled:!1,color:void 0,active:void 0,rippleElement:void 0,eventTarget:void 0,activeTarget:void 0,addClass:r=>e.classList.add(r),removeClass:r=>e.classList.remove(r),addStyle:(r,i)=>e.style.setProperty(r,i),initPromise:Promise.resolve()},i)),S()},destroy(){w&&(w.destroy(),w=void 0,y("mdc-ripple-surface"),y("smui-ripple-surface--primary"),y("smui-ripple-surface--secondary")),E&&E()}}}export{d as default};
//# sourceMappingURL=Ripple.js.map
