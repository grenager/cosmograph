import{SvelteComponent as e,init as t,safe_not_equal as n,assign as s,binding_callbacks as o,bind as r,create_component as l,mount_component as u,get_spread_update as i,get_spread_object as c,add_flush_callback as m,transition_in as d,transition_out as a,destroy_component as f,compute_rest_props as $,get_current_component as p,onMount as x,exclude_internal_props as I,create_slot as g,update_slot_base as S,get_all_dirty_from_scope as E,get_slot_changes as M}from"../../../svelte/internal/index.mjs.js";import*as O from"../../../@material/dom/ponyfill.js";import{classMap as h}from"../../common/dist/internal/classMap.js";import{dispatch as A}from"../../common/dist/internal/dispatch.js";import{forwardEventsBuilder as L}from"../../common/dist/internal/forwardEventsBuilder.js";import F from"../../menu-surface/dist/MenuSurface.svelte.js";import{MDCMenuFoundation as U}from"../../../@material/menu/foundation.js";import{cssClasses as v}from"../../../@material/menu/constants.js";function C(e){let t;const n=e[17].default,s=g(n,e,e[22],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||4194304&o)&&S(s,n,e,e[22],t?M(n,e[22],o,null):E(e[22]),null)},i(e){t||(d(s,e),t=!0)},o(e){a(s,e),t=!1},d(e){s&&s.d(e)}}}function j(e){let t,n,$;const p=[{use:e[5]},{class:h({[e[1]]:!0,"mdc-menu":!0})},e[9]];function x(t){e[19](t)}let I={$$slots:{default:[C]},$$scope:{ctx:e}};for(let e=0;e<p.length;e+=1)I=s(I,p[e]);return void 0!==e[0]&&(I.open=e[0]),t=new F({props:I}),e[18](t),o.push((()=>r(t,"open",x))),t.$on("SMUIMenuSurface:mount",e[7]),t.$on("SMUIList:mount",e[8]),t.$on("SMUIMenuSurface:opened",e[20]),t.$on("keydown",e[6]),t.$on("SMUIList:action",e[21]),{c(){l(t.$$.fragment)},m(e,n){u(t,e,n),$=!0},p(e,[s]){const o=546&s?i(p,[32&s&&{use:e[5]},2&s&&{class:h({[e[1]]:!0,"mdc-menu":!0})},512&s&&c(e[9])]):{};4194304&s&&(o.$$scope={dirty:s,ctx:e}),!n&&1&s&&(n=!0,o.open=e[0],m((()=>n=!1))),t.$set(o)},i(e){$||(d(t.$$.fragment,e),$=!0)},o(e){a(t.$$.fragment,e),$=!1},d(n){e[18](null),f(t,n)}}}function y(e,t,n){let r;const l=["use","class","open","isOpen","setOpen","setDefaultFocusState","getSelectedIndex","getMenuSurface","getElement"];let u=$(t,l),{$$slots:i={},$$scope:c}=t;const{closest:m}=O,d=L(p());let a,f,g,S,{use:E=[]}=t,{class:M=""}=t,{open:h=!1}=t;function F(){return a.getElement()}x((()=>(n(3,f=new U({addClassToElementAtIndex:(e,t)=>{S.addClassForElementIndex(e,t)},removeClassFromElementAtIndex:(e,t)=>{S.removeClassForElementIndex(e,t)},addAttributeToElementAtIndex:(e,t,n)=>{S.setAttributeForElementIndex(e,t,n)},removeAttributeFromElementAtIndex:(e,t)=>{S.removeAttributeForElementIndex(e,t)},getAttributeFromElementAtIndex:(e,t)=>S.getAttributeFromElementIndex(e,t),elementContainsClass:(e,t)=>e.classList.contains(t),closeSurface:e=>{g.closeProgrammatic(e),A(F(),"SMUIMenu:closedProgrammatically")},getElementIndex:e=>S.getOrderedList().map((e=>e.element)).indexOf(e),notifySelected:e=>A(F(),"SMUIMenu:selected",{index:e.index,item:S.getOrderedList()[e.index].element},void 0,!0),getMenuItemCount:()=>S.items.length,focusItemAtIndex:e=>S.focusItemAtIndex(e),focusListRoot:()=>"focus"in S.element&&S.element.focus(),isSelectableItemAtIndex:e=>!!m(S.getOrderedList()[e].element,`.${v.MENU_SELECTION_GROUP}`),getSelectedSiblingOfItemAtIndex:e=>{const t=S.getOrderedList(),n=m(t[e].element,`.${v.MENU_SELECTION_GROUP}`),s=null==n?void 0:n.querySelector(`.${v.MENU_SELECTED_LIST_ITEM}`);return s?t.map((e=>e.element)).indexOf(s):-1}})),A(F(),"SMUIMenu:mount",f),f.init(),()=>{f.destroy()})));return e.$$set=e=>{t=s(s({},t),I(e)),n(9,u=$(t,l)),"use"in e&&n(10,E=e.use),"class"in e&&n(1,M=e.class),"open"in e&&n(0,h=e.open),"$$scope"in e&&n(22,c=e.$$scope)},e.$$.update=()=>{1024&e.$$.dirty&&n(5,r=[d,...E])},[h,M,a,f,S,r,function(e){f&&f.handleKeydown(e)},function(e){g||(g=e.detail)},function(e){S||n(4,S=e.detail)},u,E,function(){return h},function(e){n(0,h=e)},function(e){f.setDefaultFocusState(e)},function(){return f.getSelectedIndex()},function(){return a},F,i,function(e){o[e?"unshift":"push"]((()=>{a=e,n(2,a)}))},function(e){h=e,n(0,h)},()=>f&&f.handleMenuSurfaceOpened(),e=>f&&f.handleItemAction(S.getOrderedList()[e.detail.index].element),c]}class b extends e{constructor(e){super(),t(this,e,y,j,n,{use:10,class:1,open:0,isOpen:11,setOpen:12,setDefaultFocusState:13,getSelectedIndex:14,getMenuSurface:15,getElement:16})}get isOpen(){return this.$$.ctx[11]}get setOpen(){return this.$$.ctx[12]}get setDefaultFocusState(){return this.$$.ctx[13]}get getSelectedIndex(){return this.$$.ctx[14]}get getMenuSurface(){return this.$$.ctx[15]}get getElement(){return this.$$.ctx[16]}}export{b as default};
//# sourceMappingURL=Menu.svelte.js.map
